{"remainingRequest":"/Users/macbookair/Documents/refacesys/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbookair/Documents/refacesys/admin/src/components/core/Detalles17.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookair/Documents/refacesys/admin/src/components/core/Detalles17.vue","mtime":1579503763223},{"path":"/Users/macbookair/Documents/refacesys/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbookair/Documents/refacesys/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookair/Documents/refacesys/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {api} from '@/api'\nimport $ from 'jquery'\nvar shajs = require('sha.js')\n\nexport default {\n    name: 'Frame',\n    props: {\n    },\n    data () {\n      return {\n        cant: 0,\n        info:null,\n        dialog: false,\n        rules:[\n          value => !!value || 'Required.',\n          value => (value || '').length >= 5 || 'Min 5 characters'\n        ]\n      }\n    },\n    methods: {\n       Pass(){\n          var data = $(event.currentTarget).serializeArray();\n          var pass1 = data[0].value;\n          var pass2 = data[1].value;\n          var pass3 = data[2].value;\n\n          if( pass1==\"\" || pass2==\"\" || pass3==\"\" )\n          {\n            alert('Todos los campos son requeridos');\n          }\n          else\n          {\n            api.post(`/ad-usuarios/get-admin-pass`, data)\n            .then(response => {\n              // JSON responses are automatically parsed.\n              console.log(response.data.success);\n              if (!response.data.success)\n              {\n                alert('Contraseña previa invalida. Verifique de nuevo.');\n              }\n              else\n              {\n                if( pass2 != pass3 )\n                {\n                  alert('Las contraseñas no coinciden. Verifique de nuevo.');\n                }\n                else\n                {\n                  //metodo de update para meter la password\n                  api.post(`/ad-usuarios/get-admin-pass/`+ pass1)\n                  .then(response => {\n                    // JSON responses are automatically parsed.\n               //           this.models = response.data;\n                      alert('Actualización realizada con éxito');\n                      window.location.replace(\"http://refacenet.org:61/admin\");\n                    //console.log(this.items);\n                  })\n                  .catch(e => {\n               //           this.errors.push(e)\n                  //  console.log(\"Error\");\n                    console.log(e);\n                  })\n                }\n              }\n            })\n            .catch(e => {\n              this.errors.push(e)\n            //  console.log(\"Error\");\n            //  console.log(e);\n            })\n          }\n       }\n    }\n}\n",{"version":3,"sources":["Detalles17.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detalles17.vue","sourceRoot":"src/components/core","sourcesContent":["<template>\n  <v-dialog v-model=\"dialog\" max-width=\"500\">\n    <template v-slot:activator=\"{ on }\">\n      <v-btn v-on=\"on\" small color=\"#003b94\" dark> Reestablecer contraseña </v-btn>\n    </template>\n    <v-card>\n      <v-form ref=\"form\" v-model=\"valid\" v-on:submit.prevent=\"Pass()\" lazy-validation>\n        <v-toolbar color=\"#003b94\">\n          <v-toolbar-title>Reestablecer contraseña</v-toolbar-title>\n          <v-spacer></v-spacer>\n        </v-toolbar>\n        <v-layout row>\n          <v-flex xs10 offset-xs1 >\n          <h4> Ingrese contraseña antigua: </h4>\n          <template />\n            <v-text-field\n              class=\"purple-input\"\n              label=\"Contraseña previa\"\n              name=\"contra_prev\"\n              type=\"password\"\n              :rules=\"rules\"\n            />\n          <h4> Escriba nueva contraseña: </h4>\n          <template />\n            <v-text-field\n              class=\"purple-input\"\n              label=\"Nueva contraseña\"\n              name=\"contra_nuev\"\n              type=\"password\"\n              :rules=\"rules\"\n            />\n          <h4> Confirme la contraseña: </h4>\n          <template />\n            <v-text-field\n              class=\"purple-input\"\n              label=\"Confirme contraseña\"\n              name=\"contra_conf\"\n              type=\"password\"\n              :rules=\"rules\"\n            />\n          </v-flex>\n        </v-layout>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n\n          <v-btn\n            color=\"green darken-1\"\n            flat=\"flat\"\n            @click=\"dialog = false\"\n          >\n            Cancelar\n          </v-btn>\n\n          <v-btn\n            color=\"grey darken-1\"\n            flat=\"flat\"\n            type=\"submit\"\n            @click=\"dialog = false\"\n          >\n            Aceptar\n          </v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {api} from '@/api'\nimport $ from 'jquery'\nvar shajs = require('sha.js')\n\nexport default {\n    name: 'Frame',\n    props: {\n    },\n    data () {\n      return {\n        cant: 0,\n        info:null,\n        dialog: false,\n        rules:[\n          value => !!value || 'Required.',\n          value => (value || '').length >= 5 || 'Min 5 characters'\n        ]\n      }\n    },\n    methods: {\n       Pass(){\n          var data = $(event.currentTarget).serializeArray();\n          var pass1 = data[0].value;\n          var pass2 = data[1].value;\n          var pass3 = data[2].value;\n\n          if( pass1==\"\" || pass2==\"\" || pass3==\"\" )\n          {\n            alert('Todos los campos son requeridos');\n          }\n          else\n          {\n            api.post(`/ad-usuarios/get-admin-pass`, data)\n            .then(response => {\n              // JSON responses are automatically parsed.\n              console.log(response.data.success);\n              if (!response.data.success)\n              {\n                alert('Contraseña previa invalida. Verifique de nuevo.');\n              }\n              else\n              {\n                if( pass2 != pass3 )\n                {\n                  alert('Las contraseñas no coinciden. Verifique de nuevo.');\n                }\n                else\n                {\n                  //metodo de update para meter la password\n                  api.post(`/ad-usuarios/get-admin-pass/`+ pass1)\n                  .then(response => {\n                    // JSON responses are automatically parsed.\n               //           this.models = response.data;\n                      alert('Actualización realizada con éxito');\n                      window.location.replace(\"http://refacenet.org:61/admin\");\n                    //console.log(this.items);\n                  })\n                  .catch(e => {\n               //           this.errors.push(e)\n                  //  console.log(\"Error\");\n                    console.log(e);\n                  })\n                }\n              }\n            })\n            .catch(e => {\n              this.errors.push(e)\n            //  console.log(\"Error\");\n            //  console.log(e);\n            })\n          }\n       }\n    }\n}\n</script>\n"]}]}